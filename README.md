# C语言实现一个简单的内存分配器

C标准库提供了malloc/free函数用来动态地管理内存，该分配器从操作系统拿内存(虚拟内存)时是以页为单位(通常是4KB，调用sbrk或mmap)，然后再自行管理。但是它有以下几个弊端：

1. 如果频繁地进行申请/释放，会造成很大的IO开销。在实际业务中，比如浏览器在加载、解析、渲染页面的时候，会分配大量的小对象。因此出现IO瓶颈也是十分频繁的。
2. 当出现内存问题的时候，不好排查，不能打印内存快照，需要程序员去手动调式代码。
3. 产生内存碎片，浪费大量空间，虽然有大量零散的可用空间，却无法合并提供出来使用。

本代码在malloc/free函数的基础上进行封装，实现了内存分配和管理、内存快照功能，体现了内存分配器的核心思想。